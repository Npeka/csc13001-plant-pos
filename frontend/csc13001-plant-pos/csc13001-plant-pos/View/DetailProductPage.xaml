<Page
    x:Class="csc13001_plant_pos.View.DetailProductPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:csc13001_plant_pos.View"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:conv="using:csc13001_plant_pos.Converter"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
    <Page.Resources>
        <ResourceDictionary>
            <conv:CurrencyConverter
            x:Key="CurrencyConverter" />
            <conv:WateringNeed
    x:Key="WateringNeed" />
            <conv:CareLevel
    x:Key="CareLevel" />
            <conv:LightRequirement
x:Key="LightRequirement" />
            <conv:SizeConverter
x:Key="SizeConverter" />
        </ResourceDictionary>
    </Page.Resources>
    <Grid Padding="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Button HorizontalAlignment="Left" Background="Transparent" Click="BackButton_Click">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="&#xE72B;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"/>
                    <TextBlock Text="Trở về trang ban đầu" VerticalAlignment="Center" FontWeight="SemiBold"/>
                </StackPanel>
            </Button>

            <Button Grid.Column="1" Padding="10,6" Background="#E3F2FD" Foreground="#1976D2" 
            CornerRadius="4" Click="ShowProductDialogAsync">
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE70F;" />
                    <TextBlock Text="Sửa thông tin" VerticalAlignment="Center" />
                </StackPanel>
            </Button>
        </Grid>



        <!-- Main Content -->
        <Grid Grid.Row="1" Margin="0,12,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="5*" />
                <ColumnDefinition Width="7*" />
            </Grid.ColumnDefinitions>

            <!-- Product Image -->
            <Border Grid.Column="0" CornerRadius="12" Background="#F5F7F9" Margin="0,0,16,0">
                <Grid>
                    <Image Source="{x:Bind CurrentProduct.ImageUrl}" Stretch="Uniform" Margin="20"/>
                </Grid>
            </Border>

            <!-- Product Details -->
            <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
                <StackPanel Padding="12,0,12,24" Spacing="16">
                    <!-- Product Title and ID -->
                    <StackPanel>
                        <TextBlock Text="{x:Bind CurrentProduct.Name}" 
                                FontSize="28" FontWeight="SemiBold" Foreground="#1E3932"/>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="Mã sản phẩm: " 
                                FontSize="24" FontWeight="SemiBold" Foreground="#1E3932"/>
                            <TextBlock Text="{x:Bind CurrentProduct.ProductId}" 
                                FontSize="24" Foreground="#666666" />
                        </StackPanel>
                    </StackPanel>

                    <!-- Price Section -->
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <TextBlock Text="{x:Bind CurrentProduct.SalePrice, Converter={StaticResource CurrencyConverter}}" 
                                FontSize="22" FontWeight="Bold" Foreground="#4CAF50"/>
                    </StackPanel>

                    <!-- Stock Information -->
                    <Border Background="#F5F7F9" CornerRadius="8" Padding="12,8">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE719;" FontFamily="Segoe MDL2 Assets" Foreground="#4CAF50"/>
                            <TextBlock Text="Số lượng tồn kho:" FontWeight="SemiBold"/>
                            <TextBlock Text="{x:Bind CurrentProduct.Stock}"/>
                        </StackPanel>
                    </Border>

                    <!-- Product Specifications -->
                    <Grid Background="#F5F7F9" CornerRadius="8" Padding="12">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Row separators -->
                        <Rectangle Grid.Row="0" Grid.ColumnSpan="2" Height="1" Fill="#E0E0E0" 
                                VerticalAlignment="Bottom"/>
                        <Rectangle Grid.Row="1" Grid.ColumnSpan="2" Height="1" Fill="#E0E0E0" 
                                VerticalAlignment="Bottom"/>
                        <Rectangle Grid.Row="2" Grid.ColumnSpan="2" Height="1" Fill="#E0E0E0" 
                                VerticalAlignment="Bottom"/>
                        <Rectangle Grid.Row="3" Grid.ColumnSpan="2" Height="1" Fill="#E0E0E0" 
                                VerticalAlignment="Bottom"/>
                        <Rectangle Grid.Row="4" Grid.ColumnSpan="2" Height="1" Fill="#E0E0E0" 
                                VerticalAlignment="Bottom"/>
                        <Rectangle Grid.Row="5" Grid.ColumnSpan="2" Height="1" Fill="#E0E0E0" 
                                VerticalAlignment="Bottom"/>
                        <Rectangle Grid.Row="6" Grid.ColumnSpan="2" Height="1" Fill="#E0E0E0" 
                                VerticalAlignment="Bottom"/>
                        <Rectangle Grid.Row="7" Grid.ColumnSpan="2" Height="1" Fill="#E0E0E0" 
        VerticalAlignment="Bottom"/>

                        <!-- Specifications -->
                        <TextBlock Text="Tên thông thường:" FontWeight="SemiBold" Grid.Row="0" Grid.Column="0" 
                                Margin="0,12,24,12"/>
                        <TextBlock Text="{x:Bind CurrentProduct.Name}" Grid.Row="0" Grid.Column="1" Margin="0,12,0,12"/>

                        <TextBlock Text="Mô tả:" FontWeight="SemiBold" Grid.Row="1" Grid.Column="0" 
                                Margin="0,12,24,12"/>
                        <TextBlock Text="{x:Bind CurrentProduct.Description}" Grid.Row="1" Grid.Column="1" Margin="0,12,0,12"/>

                        <TextBlock Text="Kích thước chậu:" FontWeight="SemiBold" Grid.Row="2" Grid.Column="0" 
                                Margin="0,12,24,12"/>
                        <TextBlock Text="{x:Bind CurrentProduct.Size, Converter={StaticResource SizeConverter}}" Grid.Row="2" Grid.Column="1" 
                                Margin="0,12,0,12"/>

                        <TextBlock Text="Chiều cao tổng:" FontWeight="SemiBold" Grid.Row="3" Grid.Column="0" 
                                Margin="0,12,24,12"/>
                        <TextBlock Text="150 - 160 cm" Grid.Row="3" Grid.Column="1" Margin="0,12,0,12"/>

                        <TextBlock Text="Độ khó:" FontWeight="SemiBold" Grid.Row="4" Grid.Column="0" 
                                Margin="0,12,24,12"/>
                        <TextBlock Text="{x:Bind CurrentProduct.CareLevel, Converter={StaticResource CareLevel}}" Grid.Row="4" Grid.Column="1" 
                                Margin="0,12,0,12"/>

                        <TextBlock Text="Yêu cầu ánh sáng:" FontWeight="SemiBold" Grid.Row="5" Grid.Column="0" 
                                Margin="0,12,24,12"/>
                        <TextBlock Text="{x:Bind CurrentProduct.LightRequirement, Converter={StaticResource LightRequirement}}" Grid.Row="5" Grid.Column="1" 
                                Margin="0,12,0,12"/>

                        <TextBlock Text="Nhu cầu nước:" FontWeight="SemiBold" Grid.Row="6" Grid.Column="0" 
                                Margin="0,12,24,12"/>
                        <TextBlock Text="{x:Bind CurrentProduct.WateringSchedule, Converter={StaticResource WateringNeed}}" Grid.Row="6" Grid.Column="1" 
                                Margin="0,12,0,12"/>

                        <TextBlock Text="Thể loại:" FontWeight="SemiBold" Grid.Row="7" Grid.Column="0" 
                            Margin="0,12,24,12"/>
                        <TextBlock Text="{x:Bind CurrentProduct.Category.Name}" Grid.Row="7" Grid.Column="1" 
                            Margin="0,12,0,12"/>

                        <TextBlock Text="Mô tả:" FontWeight="SemiBold" Grid.Row="8" Grid.Column="0" 
                            Margin="0,12,24,12"/>
                        <TextBlock Text="{x:Bind CurrentProduct.Category.Description}" Grid.Row="8" Grid.Column="1" 
                            Margin="0,12,0,12"/>
                    </Grid>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Page>
